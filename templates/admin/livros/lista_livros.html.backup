{% extends 'admin/base_admin.html' %} {% block title %}Lista de Livros - Admin{%
endblock %} {% block icon %}list-task{% endblock %} {% block page_title %}Lista
de Livros{% endblock %} {% block content %}
<div class="container-fluid">
  <h1>Lista de Livros</h1>

  <div class="row mb-3">
    <div class="col-md-12">
      <a href="{% url 'cadastro_livro' %}" class="btn btn-success">
        <i class="bi bi-plus-circle"></i> Novo Livro
      </a>
    </div>
  </div>

  <div class="card">
    <div class="card-body">
      <div class="table-responsive">
        <table class="table table-striped">
          <thead>
            <tr>
              <th>Título</th>
              <th>Autor</th>
              <th>Categoria</th>
              <th>Disponível</th>
              <th>Ações</th>
            </tr>
          </thead>
          <tbody>
            {% for livro in livros %}
            <tr>
              <td>{{ livro.titulo }}</td>
              <td>{{ livro.autor }}</td>
              <td>{{ livro.get_categoria_display }}</td>
              <td>
                {% if livro.quantidade_disponivel > 0 %}
                <span class="badge bg-success"
                  >Sim ({{ livro.quantidade_disponivel }})</span
                >
                {% else %}
                <span class="badge bg-danger">Não</span>
                {% endif %}
              </td>
              <td>
                <a
                  href="{% url 'editar_livro' livro.id %}"
                  class="btn btn-sm btn-primary"
                >
                  <i class="bi bi-pencil"></i> Editar
                </a>
              </td>
            </tr>
            {% empty %}
            <tr>
              <td colspan="5" class="text-center">Nenhum livro encontrado</td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>

      {% if livros.has_other_pages %}
      <div class="d-flex justify-content-center mt-3">
        {% if livros.has_previous %}
        <a
          href="?page={{ livros.previous_page_number }}"
          class="btn btn-outline-primary me-2"
          >Anterior</a
        >
        {% endif %}

        <span class="align-self-center mx-3"
          >Página {{ livros.number }} de {{ livros.paginator.num_pages }}</span
        >

        {% if livros.has_next %}
        <a
          href="?page={{ livros.next_page_number }}"
          class="btn btn-outline-primary ms-2"
          >Próxima</a
        >
        {% endif %}
      </div>
      {% endif %}
    </div>
  </div>
</div>
{% endblock %}
